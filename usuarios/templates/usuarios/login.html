<!--
========================================
SISTEMA DE AUTENTICACIÓN - HUELLITAS ALEGRES
========================================

DESCRIPCIÓN DEL SERVICIO WEB:
Este archivo HTML contiene la interfaz de usuario para el servicio web
de autenticación de Huellitas Alegres, que proporciona:

FUNCIONALIDADES PRINCIPALES:
- Formulario de registro de nuevos usuarios
- Formulario de inicio de sesión
- Validación de datos en tiempo real
- Mensajes de éxito y error de autenticación
- Interfaz responsiva y accesible

CARACTERÍSTICAS TÉCNICAS:
- HTML5 semántico con roles ARIA
- Formularios con validación del lado cliente
- Diseño responsivo para todos los dispositivos
- Accesibilidad mejorada para lectores de pantalla
- Integración con Django para el backend

ESTRUCTURA DEL SERVICIO:
- Header con navegación entre login/registro
- Formularios deslizantes con animaciones
- Campos de entrada con validación visual
- Botones de envío con estados de carga
- Footer con información adicional
========================================
-->
{% extends 'base.html' %}
{% load static %}

{% block title %}Iniciar Sesión - Huellitas Alegres{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'usuarios/css/auth.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <!-- ========================================
         HEADER DEL SERVICIO DE AUTENTICACIÓN
         ========================================
         
         Contiene la marca y navegación principal del servicio web.
         Permite alternar entre formularios de login y registro.
         ======================================== -->
    <div class="auth-header">
        <h1>Huellitas Alegres</h1>
        <p>Bienvenido a nuestro sistema de gestión</p>
    </div>
    
    <!-- NAVEGACIÓN ENTRE FORMULARIOS DEL SERVICIO -->
    <!-- Permite cambiar entre login y registro sin recargar la página -->
    <div class="switcher">
        <button type="button" class="active" data-form="login">Iniciar Sesión</button>
        <button type="button" data-form="register">Registrarse</button>
    </div>
    
    <!-- ========================================
         CONTENEDOR PRINCIPAL DE FORMULARIOS
         ========================================
         
         Contiene los formularios de login y registro del servicio web.
         Utiliza animaciones deslizantes para cambiar entre formularios.
         ======================================== -->
    <div class="form-section">
        <div class="form-container">
            <!-- ========================================
                 FORMULARIO DE INICIO DE SESIÓN
                 ========================================
                 
                 Permite a usuarios existentes autenticarse en el sistema.
                 Envía credenciales al servidor para validación.
                 ======================================== -->
            <div class="form-slide login">
                <!-- FORMULARIO DE AUTENTICACIÓN - ENVÍO AL SERVIDOR -->
                <form method="post" action="{% url 'usuarios:login_view' %}">
                    {% csrf_token %}
                    <!-- CAMPO DE CORREO ELECTRÓNICO -->
                    <!-- Validación: formato de email válido -->
                    <div class="form-group">
                        <label for="login-email">Correo Electrónico</label>
                        <input type="email" id="login-email" name="email" required placeholder="tu@email.com">
                    </div>
                    
                    <!-- CAMPO DE CONTRASEÑA -->
                    <!-- Validación: contraseña segura -->
                    <div class="form-group">
                        <label for="login-password">Contraseña</label>
                        <input type="password" id="login-password" name="password" required placeholder="Tu contraseña">
                    </div>
                    
                    <!-- BOTÓN DE ENVÍO AL SERVICIO WEB -->
                    <!-- Envía datos al servidor Django para autenticación -->
                    <button type="submit" class="btn-primary">Iniciar Sesión</button>
                    
                    <div class="form-footer">
                        <a href="#">¿Olvidaste tu contraseña?</a>
                    </div>
                </form>
            </div>
            
            <!-- ========================================
                 FORMULARIO DE REGISTRO DE USUARIOS
                 ========================================
                 
                 Permite crear nuevas cuentas de usuario en el sistema.
                 Valida datos y crea usuario en la base de datos.
                 ======================================== -->
            <div class="form-slide register">
                <!-- FORMULARIO DE REGISTRO - ENVÍO AL SERVIDOR -->
                <form method="post" action="{% url 'usuarios:register_view' %}">
                    {% csrf_token %}
                    <!-- CAMPO DE CORREO ELECTRÓNICO -->
                    <!-- Validación: formato de email válido y único -->
                    <div class="form-group">
                        <label for="register-email">Correo Electrónico</label>
                        <input type="email" id="register-email" name="email" required placeholder="tu@email.com">
                    </div>
                    
                    <!-- CAMPO DE CONTRASEÑA PRINCIPAL -->
                    <!-- Validación: contraseña segura (mínimo 6 caracteres) -->
                    <div class="form-group">
                        <label for="register-password1">Contraseña</label>
                        <input type="password" id="register-password1" name="password1" required placeholder="Mínimo 6 caracteres">
                    </div>
                    
                    <!-- CAMPO DE CONFIRMACIÓN DE CONTRASEÑA -->
                    <!-- Validación: debe coincidir con la contraseña principal -->
                    <div class="form-group">
                        <label for="register-password2">Confirmar Contraseña</label>
                        <input type="password" id="register-password2" name="password2" required placeholder="Repite tu contraseña">
                    </div>
                    
                    <!-- BOTÓN DE ENVÍO AL SERVICIO WEB -->
                    <!-- Envía datos al servidor Django para crear usuario -->
                    <button type="submit" class="btn-primary">Registrarse</button>
                    
                    <div class="form-footer">
                        <small>Al registrarte, aceptas nuestros términos y condiciones</small>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- ========================================
     SISTEMA DE MENSAJES DEL SERVICIO WEB
     ========================================
     
     Muestra mensajes de respuesta del servidor Django.
     Incluye mensajes de éxito, error y validación.
     ======================================== -->
<!-- PROCESAMIENTO DE MENSAJES DE DJANGO -->
<!-- Convierte mensajes del servidor en notificaciones JavaScript -->
{% if messages %}
    {% for message in messages %}
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                showMessage('{{ message }}', '{% if message.tags == "error" %}error{% else %}success{% endif %}');
            });
        </script>
    {% endfor %}
{% endif %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'usuarios/js/auth.js' %}"></script>
{% endblock %}